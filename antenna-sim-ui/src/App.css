* { box-sizing: border-box; }

html, body, #root {
  height: 100%;
  margin: 0;
  font-family: system-ui, Arial;
}

/* App is a full-height flex column.
   IMPORTANT: scrolling is done in .container (overview scroll). */
body {
  margin: 0;
  overflow: hidden; /* ✅ prevent double scrollbars; use .container instead */
}

:root{
  --bg: #EFEFEF;
  --card: #FFFFFF;
  --text: #111827;
  --muted: #6B7280;
  --border: #E5E7EB;
  --shadow: 0 10px 25px rgba(0,0,0,0.06);
  --radius: 14px;

  --btn-bg: #111827;
  --btn-text: #FFFFFF;
}

/* Dark theme overrides */
.app.dark{
  --bg: #0B1220;
  --card: #111A2E;
  --text: #E9EEF9;
  --muted: #A8B1C7;
  --border: rgba(255,255,255,0.10);
  --shadow: 0 10px 25px rgba(0,0,0,0.35);

  --btn-bg: rgba(255,255,255,0.10);
  --btn-text: #E9EEF9;
}

.themeBtn{
  height: 38px;
  padding: 0 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--btn-bg);
  color: var(--btn-text);
  cursor: pointer;
  font-weight: 700;
}

.topbar{
  padding: 14px 18px;
  border-bottom: 1px solid var(--border);
  background: color-mix(in srgb, var(--bg) 85%, #ffffff 15%);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.app{
  height: 100%;
  background: var(--bg);
  color: var(--text);
  display: flex;
  flex-direction: column;
}

.topbarTitle{
  font-weight: 800;
  letter-spacing: 0.2px;
}

.topbarSubtitle{
  margin-top: 2px;
  font-size: 12px;
  color: var(--muted);
}

/* ✅ OVERVIEW SCROLL:
   This is the "page scroll" area for the whole app content under the topbar */
.container{
  flex: 1;
  min-height: 0;
  padding: 14px;
  display: flex;
  width: 100%;

  overflow: auto;                 /* ✅ overview scroll here */
  -webkit-overflow-scrolling: touch;
}

.stack{
  width: 100%;
  max-width: none;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  min-height: 0;
}

/* Toolbar */
.toolbar{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 12px;
  box-shadow: var(--shadow);
}

.toolbarGroup{
  display: grid;
  grid-template-columns: 1fr 1fr auto;
  gap: 10px;
  align-items: end;
}

.field{
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.fieldLabel{
  font-size: 12px;
  color: var(--muted);
}

.input{
  height: 40px;
  padding: 0 10px;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: #fff;
  outline: none;
}

.app.dark .input{
  background: rgba(255,255,255,0.06);
  color: var(--text);
}

.input:focus{
  border-color: #C7CED9;
}

.btn{
  height: 40px;
  padding: 0 14px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: #111827;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
}

.btnDisabled{
  opacity: 0.5;
  cursor: not-allowed;
}

.toolbarError{
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #FCA5A5;
  background: #FEE2E2;
  color: #991B1B;
  font-size: 13px;
}

/* Panels */
.panel{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 84px;
}

.panelHeader{
  padding: 12px 12px;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
}

.panelTitle{
  font-weight: 800;
}

.panelMeta{
  font-size: 12px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.panelBody{
  padding: 12px;
  min-height: 0;
}

/* Spectrum */
.spectrumCanvas{
  padding: 12px;
  min-height: 240px;
}

.spectrumPlaceholder{
  height: 240px;
  border: 1px dashed #D1D5DB;
  border-radius: 12px;
  background: #FAFAFA;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--muted);
  font-size: 14px;
}

.app.dark .spectrumPlaceholder{
  background: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.14);
}

/* ✅ Make last panel (Scan Table) stretch and allow internal scroll area */
.panel:last-child{
  flex: 1 1 auto;
  min-height: 0;
}

.panel:last-child .panelBody{
  flex: 1 1 auto;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

.btnSmall{
  height: 32px;
  padding: 0 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--btn-bg);
  color: var(--btn-text);
  cursor: pointer;
  font-weight: 700;
  font-size: 12px;
}

/* ✅ Big table area at 100% zoom (no 340px cap) */
.tableWrap{
  flex: 1 1 auto;
  min-height: 0;
  height: calc(100vh - 280px);  /* adjust 260–340 if needed */
  max-height: none;
  overflow: auto;
  scrollbar-gutter: stable both-edges;
  -webkit-overflow-scrolling: touch;
}

/* dbTable (other tables) */
.dbTable{
  width: 100%;
  border-collapse: collapse;
}

.dbTable th{
  position: sticky;
  top: 0;
  background: var(--card);
  border-bottom: 1px solid var(--border);
  text-align: left;
  padding: 10px 12px;
  font-size: 12px;
  color: var(--muted);
  white-space: nowrap;
}

.dbTable td{
  border-bottom: 1px solid var(--border);
  padding: 10px 12px;
  font-size: 13px;
  white-space: nowrap;
}

.errorBox{
  margin: 12px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #FCA5A5;
  background: #FEE2E2;
  color: #991B1B;
  font-size: 13px;
}

.btnDangerSmall{
  height: 30px;
  padding: 0 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: rgba(220, 38, 38, 0.12);
  color: #b91c1c;
  cursor: pointer;
  font-weight: 800;
  font-size: 12px;
}

.toolbarHint{
  margin-top: 6px;
  font-size: 12px;
  color: var(--muted);
}

/* Tabs */
.btnTab {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.18);
  background: rgba(0,0,0,0.04);
  cursor: pointer;
  font-weight: 800;
  font-size: 13px;
  color: rgba(17,24,39,0.95);
  transition: background 0.15s ease, border-color 0.15s ease, transform 0.05s ease;
}

.btnTab:hover { background: rgba(0,0,0,0.06); }
.btnTab:active { transform: translateY(1px); }

.btnTabActive {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid rgba(37,99,235,0.55);
  background: rgba(37,99,235,0.12);
  cursor: pointer;
  font-weight: 900;
  font-size: 13px;
  color: rgba(37,99,235,1);
}

.app.dark .btnTab {
  border-color: rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
}

.app.dark .btnTab:hover { background: rgba(255,255,255,0.10); }

.app.dark .btnTabActive {
  border-color: rgba(96,165,250,0.65);
  background: rgba(96,165,250,0.16);
  color: rgba(147,197,253,1);
}

/* TableView (Scan Table) */
.tableViewWrap{
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
}

.tableViewScroller{
  overflow: auto;
}

.tableViewTable{
  width: max-content;     /* ✅ allows horizontal scroll for many columns */
  min-width: 100%;
  border-collapse: collapse;
  font-size: 12px;
}

.tableViewTable th,
.tableViewTable td{
  padding: 6px 8px;       /* ✅ more rows visible at 100% */
  line-height: 1.2;
  border-bottom: 1px solid rgba(0,0,0,0.08);
  border-right: 1px solid rgba(0,0,0,0.06);
  white-space: nowrap;
  vertical-align: top;
}

.tableViewTable td:last-child,
.tableViewTable th:last-child{
  border-right: none;
}

.tableViewTable th{
  position: sticky;
  top: 0;
  z-index: 3;
  background: rgba(0,0,0,0.04);
  text-align: left;
  font-weight: 900;
}

.tableViewTable tr:hover td{
  background: rgba(0,0,0,0.03);
}

.app.dark .tableViewTable th{
  background: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.92);
}

.app.dark .tableViewTable td{
  border-bottom-color: rgba(255,255,255,0.12);
  border-right-color: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.88);
}

.app.dark .tableViewTable tr:hover td{
  background: rgba(255,255,255,0.06);
}
